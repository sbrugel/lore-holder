<!-- HTML for the new/edit module dialog, accessible from the Story Viewer -->
<h2 mat-dialog-title>Create New Module</h2>
<mat-dialog-content>
    <form #moduleForm="ngForm" novalidate>
        <div class="dialog-form">
            <mat-form-field class="example-full-width">
                <mat-select required placeholder="Module Type" required [(ngModel)]="moduleType" name="moduleType">
                    <mat-option value="text">Text</mat-option>
                    <mat-option value="image">Image</mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field class="example-full-width">
                <textarea matInput placeholder="Contents" [(ngModel)]="moduleContents" name="moduleContents" required></textarea>
                <mat-hint>If text, this is the text. If image, this is a URL to the image.</mat-hint>
                <mat-error *ngIf="moduleForm.controls['moduleContents']?.invalid">
                    Contents are required.
                </mat-error>
            </mat-form-field>

            <mat-form-field class="example-full-width">
                <mat-select placeholder="Text Appearance" required [(ngModel)]="moduleAppearance" name="moduleAppearance">
                    <mat-option value="normal">Normal</mat-option>
                    <mat-option value="bold">Bold</mat-option>
                    <mat-option value="italic">Italics</mat-option>
                    <mat-option value="underlined">Underlined</mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field class="example-full-width">
                <textarea matInput placeholder="Text Color" [(ngModel)]="moduleColor" name="moduleColor" required></textarea>
                <mat-hint>Only needed if type is text. Enter a hex code (#000000)</mat-hint>
            </mat-form-field>
        </div>
    </form>
</mat-dialog-content>
<mat-dialog-actions>
    <button 
        mat-button 
        [mat-dialog-close]="{moduleType: moduleType, moduleContents: moduleContents, moduleAppearance: moduleAppearance, moduleColor: moduleColor}" 
        [disabled]="moduleForm.invalid"
    >CREATE</button>
</mat-dialog-actions>
